name = "realtime-relay"
main = "src/index.ts"
compatibility_date = "2024-02-08"

# Durable Objects binding
[durable_objects]
bindings = [
  { name = "BUS_ROOM", class_name = "BusRoom" }
]

# Migrations for Durable Objects
[[migrations]]
tag = "v1"
new_classes = ["BusRoom"]

# Environment variables (non-secret)
[vars]
TOKEN_TTL_SECONDS = "600"

# Secrets (set via `wrangler secret put RELAY_HMAC_SECRET`)
# RELAY_HMAC_SECRET = "..." (DO NOT put secrets here)
